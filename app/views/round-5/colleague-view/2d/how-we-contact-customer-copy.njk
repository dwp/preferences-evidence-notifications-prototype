{% extends "layouts/main.html" %}

{% block pageTitle %}
  Personal details
{% endblock %}

{% block header %}
  {% include "round-3/components/key-details.html" %}
{% endblock %}


{% block beforeContent %}

{% include "round-5/breadcrumbs/colleague-view/2d/how-we-contact-customer.html" %}

{% endblock %}


{% block content %}

<div class="govuk-width-container">
    <div class="govuk-grid-row">
      <div class="govuk-grid-column-two-thirds-from-desktop">
        <h1 class="govuk-heading-l">How we contact customer</h1>
        <dl class="govuk-summary-list govuk-!-margin-bottom-9">


          <div class="govuk-summary-list__row">
            <dt class="govuk-summary-list__key">
              Address we send letters to
            </dt>
            <dd class="govuk-summary-list__value" id="newAddressDiv" name="newAddressDiv">
            </dd>
            <dd class="govuk-summary-list__actions">
              <a class="govuk-link" href="address-we-send-letters-to/which-address-should-we-send-letters-to">Change<span class="govuk-visually-hidden"> address we send letters to</span></a>
            </dd>
          </div>

          <div class="govuk-summary-list__row">
            <dt class="govuk-summary-list__key">
              Email addresses
            </dt>
            <dd class="govuk-summary-list__value">
              <p class="govuk-body" id="newEmailDiv" name="newEmailDiv"></p>
              <p class="govuk-body">juliette.fox@email.com</p>
              </dd>
            <dd class="govuk-summary-list__actions">
              <a class="govuk-link" href="email/email-list">Change<span class="govuk-visually-hidden"> email</span></a>
            </dd>
          </div>

          <div class="govuk-summary-list__row">
            <dt class="govuk-summary-list__key">
              Phone numbers
            </dt>
            <dd class="govuk-summary-list__value">
              <p class="govuk-body" id="mainPhoneDiv" name="mainPhoneDiv"></p>
              <p class="govuk-body">07700 900 982</p>
            </dd>
            <dd class="govuk-summary-list__actions">
              <a class="govuk-link" href="phone-number/phone-number-list">Change<span class="govuk-visually-hidden"> main phone number</span></a>
            </dd>
          </div>

          <div class="govuk-summary-list__row">
            <dt class="govuk-summary-list__key">
              Landline number
            </dt>
            <dd class="govuk-summary-list__value">
              <p class="govuk-body">01632 960 001</p>
            </dd>
            <dd class="govuk-summary-list__actions">
              <a class="govuk-link" href="#">Change<span class="govuk-visually-hidden"> other phone numbers</span></a>
            </dd>
          </div>

        </dl>
      </div>
    </div>

    <div class="govuk-grid-row">
      <div class="govuk-grid-column-two-thirds-from-desktop">
        <h1 class="govuk-heading-l">Accessible formats</h1>
        <dl class="govuk-summary-list govuk-!-margin-bottom-9">

          <div class="govuk-summary-list__row">
            <dt class="govuk-summary-list__key">
              When we write to customer 
            </dt>
            <dd class="govuk-summary-list__value" id="mainHowWeWriteDiv" name="mainHowWeWriteDiv">
            </dd>
            <dd class="govuk-summary-list__actions">
              <a class="govuk-link" href="/round-5/colleague-view/2d/alternative-formats/when-we-write-to-customer/how-should-we-write-to-customer">
                Change<span class="govuk-visually-hidden">How we write to customer </span>
              </a>
            </dd>
          </div>

          <div class="govuk-summary-list__row">
            <dt class="govuk-summary-list__key">
              Textphone (for the hard of hearing)
            </dt>
            <dd class="govuk-summary-list__value">07777777777
            </dd>
            <dd class="govuk-summary-list__actions">
              <a class="govuk-link" href="/round-5/colleague-view/2d/alternative-formats/when-we-speak-to-customer/how-should-we-contact-customer-if-we-need-to-speak-to-customer">
                Change<span class="govuk-visually-hidden">When we speak to customer</span>
              </a>
            </dd>
          </div>

        </dl>
      </div>
    </div>


    <div class="govuk-button-group">
      {{ govukButton({
        text: "Return to home",
        href: "/round-5/colleague-view/2d/homepage.html"
      }) }}
    </div>
</div>

<script>
  var address = sessionStorage.getItem('address');

  var newAddressDiv = document.getElementById('newAddressDiv');

  if (newAddressDiv) {
    if(address) {
      newAddressDiv.innerHTML = address.replace(/,/g, '<br>');
    } else {
      newAddressDiv.innerHTML = "	72 Guild Street<br>London<br>SE23 6FH";
    }
  }

  var email = sessionStorage.getItem('email');

  var newEmailDiv = document.getElementById('newEmailDiv');

  if (newEmailDiv) {
    if(email) {
      newEmailDiv.innerHTML = email;
    } else {
      newEmailDiv.innerHTML = "chris.fox@example.com";
    }
  }

  var phone = sessionStorage.getItem('phone');
  var mainPhoneDiv = document.getElementById('mainPhoneDiv');
  if (mainPhoneDiv) {
    if(phone) {
      mainPhoneDiv.innerHTML = phone;
    } else {
      mainPhoneDiv.innerHTML = "07700 900 457";
    }
  }

  var mainHowWeConnectDiv = document.getElementById('mainHowWeConnectDiv');
  var howWeConnect = sessionStorage.getItem('howWeConnect');
  var howWeConnectArrary;
  if (howWeConnect) {
    howWeConnectArrary = howWeConnect.split("<br>");
  }
 
  if (mainHowWeConnectDiv) {
    if (howWeConnect && howWeConnectArrary.length > 0) {
        var list = "";

        if (howWeConnectArrary.length > 1) {
          list += "<ul class='govuk-list govuk-list--bullet'>";
          for (let i = 1; i < howWeConnectArrary.length; i++) {
            list += `<li>${howWeConnectArrary[i]}</li>`
          }
          list += "</ul>"
        }

        mainHowWeConnectDiv.innerHTML = `<p class='govuk-body'>${howWeConnectArrary[0]}</p>${list}`;
      } else {
        mainHowWeConnectDiv.innerHTML =  "<p>You can contact customer by phone</p>";
      }
  }

  var mainHowWeWriteDiv = document.getElementById('mainHowWeWriteDiv');
  var howWeWrite = sessionStorage.getItem('howWeWrite');
  var howWeWriteArrary;
  if (howWeWrite) {
    howWeWriteArrary = howWeWrite.split("<br>");
  }
 
  if (mainHowWeWriteDiv) {
    if (howWeWrite && howWeWriteArrary.length > 0) {
        var list = "";

        if (howWeWriteArrary.length > 1) {
          list += "<ul class='govuk-list govuk-list--bullet'>";
          for (let i = 1; i < howWeWriteArrary.length; i++) {
            list += `<li>${howWeWriteArrary[i]}</li>`
          }
          list += "</ul>"
        }

        mainHowWeWriteDiv.innerHTML = `<p class='govuk-body'>${howWeWriteArrary[0]}</p>${list}`;
      } else {
        mainHowWeWriteDiv.innerHTML =  "<p>You can contact customer by standard letter</p>";
      }
  }
</script>

{% endblock %}